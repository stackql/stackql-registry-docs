---
title: instances
hide_title: false
hide_table_of_contents: false
keywords:
  - instances
  - baremetalsolution
  - google
  - stackql
  - infrastructure-as-code
  - configuration-as-data
  - cloud inventory
description: Query, deploy and manage Google Cloud Platform (GCP) infrastructure and resources using SQL
custom_edit_url: null
image: /img/providers/google/stackql-google-provider-featured-image.png
---

import CopyableCode from '@site/src/components/CopyableCode/CopyableCode';
import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

Creates, updates, deletes or gets an <code>instance</code> resource or lists <code>instances</code> in a region

## Overview
<table><tbody>
<tr><td><b>Name</b></td><td><code>instances</code></td></tr>
<tr><td><b>Type</b></td><td>Resource</td></tr>
<tr><td><b>Id</b></td><td><CopyableCode code="google.baremetalsolution.instances" /></td></tr>
</tbody></table>

## Fields
| Name | Datatype | Description |
|:-----|:---------|:------------|
| <CopyableCode code="id" /> | `string` | Output only. An identifier for the `Instance`, generated by the backend. |
| <CopyableCode code="name" /> | `string` | Immutable. The resource name of this `Instance`. Resource names are schemeless URIs that follow the conventions in https://cloud.google.com/apis/design/resource_names. Format: `projects/{project}/locations/{location}/instances/{instance}` |
| <CopyableCode code="createTime" /> | `string` | Output only. Create a time stamp. |
| <CopyableCode code="firmwareVersion" /> | `string` | Output only. The firmware version for the instance. |
| <CopyableCode code="hyperthreadingEnabled" /> | `boolean` | True if you enable hyperthreading for the server, otherwise false. The default value is false. |
| <CopyableCode code="interactiveSerialConsoleEnabled" /> | `boolean` | Output only. True if the interactive serial console feature is enabled for the instance, false otherwise. The default value is false. |
| <CopyableCode code="kmsKeyVersion" /> | `string` | Optional. Name of the KMS crypto key version used to encrypt the initial passwords. The key has to have ASYMMETRIC_DECRYPT purpose. Format is `projects/{project}/locations/{location}/keyRings/{keyring}/cryptoKeys/{key}/cryptoKeyVersions/{version}`. |
| <CopyableCode code="labels" /> | `object` | Labels as key value pairs. |
| <CopyableCode code="logicalInterfaces" /> | `array` | List of logical interfaces for the instance. The number of logical interfaces will be the same as number of hardware bond/nic on the chosen network template. For the non-multivlan configurations (for eg, existing servers) that use existing default network template (bondaa-bondaa), both the Instance.networks field and the Instance.logical_interfaces fields will be filled to ensure backward compatibility. For the others, only Instance.logical_interfaces will be filled. |
| <CopyableCode code="loginInfo" /> | `string` | Output only. Text field about info for logging in. |
| <CopyableCode code="luns" /> | `array` | Immutable. List of LUNs associated with this server. |
| <CopyableCode code="machineType" /> | `string` | Immutable. The server type. [Available server types](https://cloud.google.com/bare-metal/docs/bms-planning#server_configurations) |
| <CopyableCode code="networkTemplate" /> | `string` | Instance network template name. For eg, bondaa-bondaa, bondab-nic, etc. Generally, the template name follows the syntax of "bond" or "nic". |
| <CopyableCode code="networks" /> | `array` | Output only. List of networks associated with this server. |
| <CopyableCode code="osImage" /> | `string` | The OS image currently installed on the server. |
| <CopyableCode code="pod" /> | `string` | Immutable. Pod name. Pod is an independent part of infrastructure. Instance can only be connected to the assets (networks, volumes) allocated in the same pod. |
| <CopyableCode code="sshKeys" /> | `array` | Optional. List of SSH Keys used during instance provisioning. |
| <CopyableCode code="state" /> | `string` | Output only. The state of the server. |
| <CopyableCode code="updateTime" /> | `string` | Output only. Update a time stamp. |
| <CopyableCode code="volumes" /> | `array` | Input only. List of Volumes to attach to this Instance on creation. This field won't be populated in Get/List responses. |
| <CopyableCode code="workloadProfile" /> | `string` | The workload profile for the instance. |

## Methods
| Name | Accessible by | Required Params | Description |
|:-----|:--------------|:----------------|:------------|
| <CopyableCode code="get" /> | `SELECT` | <CopyableCode code="instancesId, locationsId, projectsId" /> | Get details about a single server. |
| <CopyableCode code="list" /> | `SELECT` | <CopyableCode code="locationsId, projectsId" /> | List servers in a given project and location. |
| <CopyableCode code="patch" /> | `UPDATE` | <CopyableCode code="instancesId, locationsId, projectsId" /> | Update details of a single server. |
| <CopyableCode code="detach_lun" /> | `EXEC` | <CopyableCode code="instancesId, locationsId, projectsId" /> | Detach LUN from Instance. |
| <CopyableCode code="disable_hyperthreading" /> | `EXEC` | <CopyableCode code="instancesId, locationsId, projectsId" /> | Perform disable hyperthreading operation on a single server. |
| <CopyableCode code="disable_interactive_serial_console" /> | `EXEC` | <CopyableCode code="instancesId, locationsId, projectsId" /> | Disable the interactive serial console feature on an instance. |
| <CopyableCode code="enable_hyperthreading" /> | `EXEC` | <CopyableCode code="instancesId, locationsId, projectsId" /> | Perform enable hyperthreading operation on a single server. |
| <CopyableCode code="enable_interactive_serial_console" /> | `EXEC` | <CopyableCode code="instancesId, locationsId, projectsId" /> | Enable the interactive serial console feature on an instance. |
| <CopyableCode code="load_auth_info" /> | `EXEC` | <CopyableCode code="instancesId, locationsId, projectsId" /> | Load auth info for a server. |
| <CopyableCode code="reimage" /> | `EXEC` | <CopyableCode code="instancesId, locationsId, projectsId" /> | Perform reimage operation on a single server. |
| <CopyableCode code="rename" /> | `EXEC` | <CopyableCode code="instancesId, locationsId, projectsId" /> | RenameInstance sets a new name for an instance. Use with caution, previous names become immediately invalidated. |
| <CopyableCode code="reset" /> | `EXEC` | <CopyableCode code="instancesId, locationsId, projectsId" /> | Perform an ungraceful, hard reset on a server. Equivalent to shutting the power off and then turning it back on. |
| <CopyableCode code="start" /> | `EXEC` | <CopyableCode code="instancesId, locationsId, projectsId" /> | Starts a server that was shutdown. |
| <CopyableCode code="stop" /> | `EXEC` | <CopyableCode code="instancesId, locationsId, projectsId" /> | Stop a running server. |

## `SELECT` examples

List servers in a given project and location.

```sql
SELECT
id,
name,
createTime,
firmwareVersion,
hyperthreadingEnabled,
interactiveSerialConsoleEnabled,
kmsKeyVersion,
labels,
logicalInterfaces,
loginInfo,
luns,
machineType,
networkTemplate,
networks,
osImage,
pod,
sshKeys,
state,
updateTime,
volumes,
workloadProfile
FROM google.baremetalsolution.instances
WHERE locationsId = '{{ locationsId }}'
AND projectsId = '{{ projectsId }}'; 
```

## `UPDATE` example

Updates a instance only if the necessary resources are available.

```sql
UPDATE google.baremetalsolution.instances
SET 
name = '{{ name }}',
id = '{{ id }}',
createTime = '{{ createTime }}',
updateTime = '{{ updateTime }}',
machineType = '{{ machineType }}',
state = '{{ state }}',
hyperthreadingEnabled = true|false,
labels = '{{ labels }}',
luns = '{{ luns }}',
volumes = '{{ volumes }}',
networks = '{{ networks }}',
interactiveSerialConsoleEnabled = true|false,
osImage = '{{ osImage }}',
pod = '{{ pod }}',
networkTemplate = '{{ networkTemplate }}',
logicalInterfaces = '{{ logicalInterfaces }}',
loginInfo = '{{ loginInfo }}',
workloadProfile = '{{ workloadProfile }}',
firmwareVersion = '{{ firmwareVersion }}',
sshKeys = '{{ sshKeys }}',
kmsKeyVersion = '{{ kmsKeyVersion }}'
WHERE 
instancesId = '{{ instancesId }}'
AND locationsId = '{{ locationsId }}'
AND projectsId = '{{ projectsId }}';
```
