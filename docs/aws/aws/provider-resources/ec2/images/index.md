---
title: images
hide_title: false
hide_table_of_contents: false
keywords:
  - images
  - ec2
  - aws    
  - stackql
  - infrastructure-as-code
  - configuration-as-data
  - cloud inventory
description: Query, deploy and manage AWS resources using SQL
custom_edit_url: null
image: https://storage.googleapis.com/stackql-web-assets/blog/stackql-blog-post-featured-image.png
---
  
    

## Overview
<table><tbody>
<tr><td><b>Name</b></td><td><code>images</code></td></tr>
<tr><td><b>Type</b></td><td>Resource</td></tr>
<tr><td><b>Id</b></td><td><code>aws.ec2.images</code></td></tr>
</tbody></table>

## Fields
`SELECT` not supported for this resource, use `SHOW METHODS` to view available operations for the resource and then invoke a supported method using the `EXEC` command  
## Methods
| Name | Accessible by | Required Params | Description |
|:-----|:--------------|:----------------|:------------|
| `images_Describe` | `SELECT` |  | &lt;p&gt;Describes the specified images (AMIs, AKIs, and ARIs) available to you or all of the images available to you.&lt;/p&gt; &lt;p&gt;The images available to you include public images, private images that you own, and private images owned by other Amazon Web Services accounts for which you have explicit launch permissions.&lt;/p&gt; &lt;p&gt;Recently deregistered images appear in the returned results for a short interval and then return empty results. After all instances that reference a deregistered AMI are terminated, specifying the ID of the image will eventually return an error indicating that the AMI ID cannot be found.&lt;/p&gt; |
| `image_Create` | `INSERT` | `InstanceId, Name` | &lt;p&gt;Creates an Amazon EBS-backed AMI from an Amazon EBS-backed instance that is either running or stopped.&lt;/p&gt; &lt;p&gt;By default, when Amazon EC2 creates the new AMI, it reboots the instance so that it can take snapshots of the attached volumes while data is at rest, in order to ensure a consistent state. You can set the &lt;code&gt;NoReboot&lt;/code&gt; parameter to &lt;code&gt;true&lt;/code&gt; in the API request, or use the &lt;code&gt;--no-reboot&lt;/code&gt; option in the CLI to prevent Amazon EC2 from shutting down and rebooting the instance.&lt;/p&gt; &lt;important&gt; &lt;p&gt;If you choose to bypass the shutdown and reboot process by setting the &lt;code&gt;NoReboot&lt;/code&gt; parameter to &lt;code&gt;true&lt;/code&gt; in the API request, or by using the &lt;code&gt;--no-reboot&lt;/code&gt; option in the CLI, we can't guarantee the file system integrity of the created image.&lt;/p&gt; &lt;/important&gt; &lt;p&gt;If you customized your instance with instance store volumes or Amazon EBS volumes in addition to the root device volume, the new AMI contains block device mapping information for those volumes. When you launch an instance from this new AMI, the instance automatically launches with those additional volumes.&lt;/p&gt; &lt;p&gt;For more information, see &lt;a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/creating-an-ami-ebs.html"&gt;Creating Amazon EBS-Backed Linux AMIs&lt;/a&gt; in the &lt;i&gt;Amazon Elastic Compute Cloud User Guide&lt;/i&gt;.&lt;/p&gt; |
| `image_Copy` | `EXEC` | `Name, SourceImageId, SourceRegion` | &lt;p&gt;Initiates the copy of an AMI. You can copy an AMI from one Region to another, or from a Region to an Outpost. You can't copy an AMI from an Outpost to a Region, from one Outpost to another, or within the same Outpost. To copy an AMI to another partition, see &lt;a href="https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_CreateStoreImageTask.html"&gt;CreateStoreImageTask&lt;/a&gt;.&lt;/p&gt; &lt;p&gt;To copy an AMI from one Region to another, specify the source Region using the &lt;b&gt;SourceRegion&lt;/b&gt; parameter, and specify the destination Region using its endpoint. Copies of encrypted backing snapshots for the AMI are encrypted. Copies of unencrypted backing snapshots remain unencrypted, unless you set &lt;code&gt;Encrypted&lt;/code&gt; during the copy operation. You cannot create an unencrypted copy of an encrypted backing snapshot.&lt;/p&gt; &lt;p&gt;To copy an AMI from a Region to an Outpost, specify the source Region using the &lt;b&gt;SourceRegion&lt;/b&gt; parameter, and specify the ARN of the destination Outpost using &lt;b&gt;DestinationOutpostArn&lt;/b&gt;. Backing snapshots copied to an Outpost are encrypted by default using the default encryption key for the Region, or a different key that you specify in the request using &lt;b&gt;KmsKeyId&lt;/b&gt;. Outposts do not support unencrypted snapshots. For more information, &lt;a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/snapshots-outposts.html#ami"&gt; Amazon EBS local snapshots on Outposts&lt;/a&gt; in the &lt;i&gt;Amazon Elastic Compute Cloud User Guide&lt;/i&gt;.&lt;/p&gt; &lt;p&gt;For more information about the prerequisites and limits when copying an AMI, see &lt;a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/CopyingAMIs.html"&gt;Copying an AMI&lt;/a&gt; in the &lt;i&gt;Amazon Elastic Compute Cloud User Guide&lt;/i&gt;.&lt;/p&gt; |
| `image_Deregister` | `EXEC` | `ImageId` | &lt;p&gt;Deregisters the specified AMI. After you deregister an AMI, it can't be used to launch new instances.&lt;/p&gt; &lt;p&gt;If you deregister an AMI that matches a Recycle Bin retention rule, the AMI is retained in the Recycle Bin for the specified retention period. For more information, see &lt;a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/recycle-bin.html"&gt;Recycle Bin&lt;/a&gt; in the Amazon Elastic Compute Cloud User Guide.&lt;/p&gt; &lt;p&gt;When you deregister an AMI, it doesn't affect any instances that you've already launched from the AMI. You'll continue to incur usage costs for those instances until you terminate them.&lt;/p&gt; &lt;p&gt;When you deregister an Amazon EBS-backed AMI, it doesn't affect the snapshot that was created for the root volume of the instance during the AMI creation process. When you deregister an instance store-backed AMI, it doesn't affect the files that you uploaded to Amazon S3 when you created the AMI.&lt;/p&gt; |
| `image_Export` | `EXEC` | `DiskImageFormat, ImageId, S3ExportLocation` | Exports an Amazon Machine Image (AMI) to a VM file. For more information, see &lt;a href="https://docs.aws.amazon.com/vm-import/latest/userguide/vmexport_image.html"&gt;Exporting a VM directly from an Amazon Machine Image (AMI)&lt;/a&gt; in the &lt;i&gt;VM Import/Export User Guide&lt;/i&gt;. |
| `image_Import` | `EXEC` |  | &lt;p&gt;Import single or multi-volume disk images or EBS snapshots into an Amazon Machine Image (AMI).&lt;/p&gt; &lt;p&gt;For more information, see &lt;a href="https://docs.aws.amazon.com/vm-import/latest/userguide/vmimport-image-import.html"&gt;Importing a VM as an image using VM Import/Export&lt;/a&gt; in the &lt;i&gt;VM Import/Export User Guide&lt;/i&gt;.&lt;/p&gt; |
| `image_Register` | `EXEC` | `Name` | &lt;p&gt;Registers an AMI. When you're creating an AMI, this is the final step you must complete before you can launch an instance from the AMI. For more information about creating AMIs, see &lt;a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/creating-an-ami.html"&gt;Creating your own AMIs&lt;/a&gt; in the &lt;i&gt;Amazon Elastic Compute Cloud User Guide&lt;/i&gt;.&lt;/p&gt; &lt;note&gt; &lt;p&gt;For Amazon EBS-backed instances, &lt;a&gt;CreateImage&lt;/a&gt; creates and registers the AMI in a single request, so you don't have to register the AMI yourself.&lt;/p&gt; &lt;/note&gt; &lt;p&gt;If needed, you can deregister an AMI at any time. Any modifications you make to an AMI backed by an instance store volume invalidates its registration. If you make changes to an image, deregister the previous image and register the new image.&lt;/p&gt; &lt;p&gt; &lt;b&gt;Register a snapshot of a root device volume&lt;/b&gt; &lt;/p&gt; &lt;p&gt;You can use &lt;code&gt;RegisterImage&lt;/code&gt; to create an Amazon EBS-backed Linux AMI from a snapshot of a root device volume. You specify the snapshot using a block device mapping. You can't set the encryption state of the volume using the block device mapping. If the snapshot is encrypted, or encryption by default is enabled, the root volume of an instance launched from the AMI is encrypted.&lt;/p&gt; &lt;p&gt;For more information, see &lt;a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/creating-an-ami-ebs.html#creating-launching-ami-from-snapshot"&gt;Create a Linux AMI from a snapshot&lt;/a&gt; and &lt;a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AMIEncryption.html"&gt;Use encryption with Amazon EBS-backed AMIs&lt;/a&gt; in the &lt;i&gt;Amazon Elastic Compute Cloud User Guide&lt;/i&gt;.&lt;/p&gt; &lt;p&gt; &lt;b&gt;Amazon Web Services Marketplace product codes&lt;/b&gt; &lt;/p&gt; &lt;p&gt;If any snapshots have Amazon Web Services Marketplace product codes, they are copied to the new AMI.&lt;/p&gt; &lt;p&gt;Windows and some Linux distributions, such as Red Hat Enterprise Linux (RHEL) and SUSE Linux Enterprise Server (SLES), use the Amazon EC2 billing product code associated with an AMI to verify the subscription status for package updates. To create a new AMI for operating systems that require a billing product code, instead of registering the AMI, do the following to preserve the billing product code association:&lt;/p&gt; &lt;ol&gt; &lt;li&gt; &lt;p&gt;Launch an instance from an existing AMI with that billing product code.&lt;/p&gt; &lt;/li&gt; &lt;li&gt; &lt;p&gt;Customize the instance.&lt;/p&gt; &lt;/li&gt; &lt;li&gt; &lt;p&gt;Create an AMI from the instance using &lt;a&gt;CreateImage&lt;/a&gt;.&lt;/p&gt; &lt;/li&gt; &lt;/ol&gt; &lt;p&gt;If you purchase a Reserved Instance to apply to an On-Demand Instance that was launched from an AMI with a billing product code, make sure that the Reserved Instance has the matching billing product code. If you purchase a Reserved Instance without the matching billing product code, the Reserved Instance will not be applied to the On-Demand Instance. For information about how to obtain the platform details and billing information of an AMI, see &lt;a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ami-billing-info.html"&gt;Understanding AMI billing&lt;/a&gt; in the &lt;i&gt;Amazon Elastic Compute Cloud User Guide&lt;/i&gt;.&lt;/p&gt; |
