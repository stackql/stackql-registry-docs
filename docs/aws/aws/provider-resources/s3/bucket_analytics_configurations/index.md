---
title: bucket_analytics_configurations
hide_title: false
hide_table_of_contents: false
keywords:
  - bucket_analytics_configurations
  - s3
  - aws    
  - stackql
  - infrastructure-as-code
  - configuration-as-data
  - cloud inventory
description: Query, deploy and manage AWS resources using SQL
custom_edit_url: null
image: https://storage.googleapis.com/stackql-web-assets/blog/stackql-blog-post-featured-image.png
---
  
    

## Overview
<table><tbody>
<tr><td><b>Name</b></td><td><code>bucket_analytics_configurations</code></td></tr>
<tr><td><b>Type</b></td><td>Resource</td></tr>
<tr><td><b>Id</b></td><td><code>aws.s3.bucket_analytics_configurations</code></td></tr>
</tbody></table>

## Fields
`SELECT` not supported for this resource, use `SHOW METHODS` to view available operations for the resource and then invoke a supported method using the `EXEC` command  
## Methods
| Name | Accessible by | Required Params | Description |
|:-----|:--------------|:----------------|:------------|
| `bucket_analytics_configurations_Get` | `SELECT` | `analytics, id` | &lt;p&gt;This implementation of the GET action returns an analytics configuration (identified by the analytics configuration ID) from the bucket.&lt;/p&gt; &lt;p&gt;To use this operation, you must have permissions to perform the &lt;code&gt;s3:GetAnalyticsConfiguration&lt;/code&gt; action. The bucket owner has this permission by default. The bucket owner can grant this permission to others. For more information about permissions, see &lt;a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/using-with-s3-actions.html#using-with-s3-actions-related-to-bucket-subresources"&gt; Permissions Related to Bucket Subresource Operations&lt;/a&gt; and &lt;a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/s3-access-control.html"&gt;Managing Access Permissions to Your Amazon S3 Resources&lt;/a&gt; in the &lt;i&gt;Amazon S3 User Guide&lt;/i&gt;. &lt;/p&gt; &lt;p&gt;For information about Amazon S3 analytics feature, see &lt;a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/analytics-storage-class.html"&gt;Amazon S3 Analytics – Storage Class Analysis&lt;/a&gt; in the &lt;i&gt;Amazon S3 User Guide&lt;/i&gt;.&lt;/p&gt; &lt;p class="title"&gt; &lt;b&gt;Related Resources&lt;/b&gt; &lt;/p&gt; &lt;ul&gt; &lt;li&gt; &lt;p&gt; &lt;a href="https://docs.aws.amazon.com/AmazonS3/latest/API/API_DeleteBucketAnalyticsConfiguration.html"&gt;DeleteBucketAnalyticsConfiguration&lt;/a&gt; &lt;/p&gt; &lt;/li&gt; &lt;li&gt; &lt;p&gt; &lt;a href="https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListBucketAnalyticsConfigurations.html"&gt;ListBucketAnalyticsConfigurations&lt;/a&gt; &lt;/p&gt; &lt;/li&gt; &lt;li&gt; &lt;p&gt; &lt;a href="https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutBucketAnalyticsConfiguration.html"&gt;PutBucketAnalyticsConfiguration&lt;/a&gt; &lt;/p&gt; &lt;/li&gt; &lt;/ul&gt; |
| `bucket_analytics_configurations_List` | `SELECT` | `analytics` | &lt;p&gt;Lists the analytics configurations for the bucket. You can have up to 1,000 analytics configurations per bucket.&lt;/p&gt; &lt;p&gt;This action supports list pagination and does not return more than 100 configurations at a time. You should always check the &lt;code&gt;IsTruncated&lt;/code&gt; element in the response. If there are no more configurations to list, &lt;code&gt;IsTruncated&lt;/code&gt; is set to false. If there are more configurations to list, &lt;code&gt;IsTruncated&lt;/code&gt; is set to true, and there will be a value in &lt;code&gt;NextContinuationToken&lt;/code&gt;. You use the &lt;code&gt;NextContinuationToken&lt;/code&gt; value to continue the pagination of the list by passing the value in continuation-token in the request to &lt;code&gt;GET&lt;/code&gt; the next page.&lt;/p&gt; &lt;p&gt;To use this operation, you must have permissions to perform the &lt;code&gt;s3:GetAnalyticsConfiguration&lt;/code&gt; action. The bucket owner has this permission by default. The bucket owner can grant this permission to others. For more information about permissions, see &lt;a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/using-with-s3-actions.html#using-with-s3-actions-related-to-bucket-subresources"&gt;Permissions Related to Bucket Subresource Operations&lt;/a&gt; and &lt;a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/s3-access-control.html"&gt;Managing Access Permissions to Your Amazon S3 Resources&lt;/a&gt;.&lt;/p&gt; &lt;p&gt;For information about Amazon S3 analytics feature, see &lt;a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/analytics-storage-class.html"&gt;Amazon S3 Analytics – Storage Class Analysis&lt;/a&gt;. &lt;/p&gt; &lt;p&gt;The following operations are related to &lt;code&gt;ListBucketAnalyticsConfigurations&lt;/code&gt;:&lt;/p&gt; &lt;ul&gt; &lt;li&gt; &lt;p&gt; &lt;a href="https://docs.aws.amazon.com/AmazonS3/latest/API/API_GetBucketAnalyticsConfiguration.html"&gt;GetBucketAnalyticsConfiguration&lt;/a&gt; &lt;/p&gt; &lt;/li&gt; &lt;li&gt; &lt;p&gt; &lt;a href="https://docs.aws.amazon.com/AmazonS3/latest/API/API_DeleteBucketAnalyticsConfiguration.html"&gt;DeleteBucketAnalyticsConfiguration&lt;/a&gt; &lt;/p&gt; &lt;/li&gt; &lt;li&gt; &lt;p&gt; &lt;a href="https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutBucketAnalyticsConfiguration.html"&gt;PutBucketAnalyticsConfiguration&lt;/a&gt; &lt;/p&gt; &lt;/li&gt; &lt;/ul&gt; |
| `bucket_analytics_configurations_Delete` | `DELETE` | `analytics, id` | &lt;p&gt;Deletes an analytics configuration for the bucket (specified by the analytics configuration ID).&lt;/p&gt; &lt;p&gt;To use this operation, you must have permissions to perform the &lt;code&gt;s3:PutAnalyticsConfiguration&lt;/code&gt; action. The bucket owner has this permission by default. The bucket owner can grant this permission to others. For more information about permissions, see &lt;a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/using-with-s3-actions.html#using-with-s3-actions-related-to-bucket-subresources"&gt;Permissions Related to Bucket Subresource Operations&lt;/a&gt; and &lt;a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/s3-access-control.html"&gt;Managing Access Permissions to Your Amazon S3 Resources&lt;/a&gt;.&lt;/p&gt; &lt;p&gt;For information about the Amazon S3 analytics feature, see &lt;a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/analytics-storage-class.html"&gt;Amazon S3 Analytics – Storage Class Analysis&lt;/a&gt;. &lt;/p&gt; &lt;p&gt;The following operations are related to &lt;code&gt;DeleteBucketAnalyticsConfiguration&lt;/code&gt;:&lt;/p&gt; &lt;ul&gt; &lt;li&gt; &lt;p&gt; &lt;a href="https://docs.aws.amazon.com/AmazonS3/latest/API/API_GetBucketAnalyticsConfiguration.html"&gt;GetBucketAnalyticsConfiguration&lt;/a&gt; &lt;/p&gt; &lt;/li&gt; &lt;li&gt; &lt;p&gt; &lt;a href="https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListBucketAnalyticsConfigurations.html"&gt;ListBucketAnalyticsConfigurations&lt;/a&gt; &lt;/p&gt; &lt;/li&gt; &lt;li&gt; &lt;p&gt; &lt;a href="https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutBucketAnalyticsConfiguration.html"&gt;PutBucketAnalyticsConfiguration&lt;/a&gt; &lt;/p&gt; &lt;/li&gt; &lt;/ul&gt; |
| `bucket_analytics_configurations_Put` | `EXEC` | `analytics, id` | &lt;p&gt;Sets an analytics configuration for the bucket (specified by the analytics configuration ID). You can have up to 1,000 analytics configurations per bucket.&lt;/p&gt; &lt;p&gt;You can choose to have storage class analysis export analysis reports sent to a comma-separated values (CSV) flat file. See the &lt;code&gt;DataExport&lt;/code&gt; request element. Reports are updated daily and are based on the object filters that you configure. When selecting data export, you specify a destination bucket and an optional destination prefix where the file is written. You can export the data to a destination bucket in a different account. However, the destination bucket must be in the same Region as the bucket that you are making the PUT analytics configuration to. For more information, see &lt;a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/analytics-storage-class.html"&gt;Amazon S3 Analytics – Storage Class Analysis&lt;/a&gt;. &lt;/p&gt; &lt;important&gt; &lt;p&gt;You must create a bucket policy on the destination bucket where the exported file is written to grant permissions to Amazon S3 to write objects to the bucket. For an example policy, see &lt;a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/example-bucket-policies.html#example-bucket-policies-use-case-9"&gt;Granting Permissions for Amazon S3 Inventory and Storage Class Analysis&lt;/a&gt;.&lt;/p&gt; &lt;/important&gt; &lt;p&gt;To use this operation, you must have permissions to perform the &lt;code&gt;s3:PutAnalyticsConfiguration&lt;/code&gt; action. The bucket owner has this permission by default. The bucket owner can grant this permission to others. For more information about permissions, see &lt;a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/using-with-s3-actions.html#using-with-s3-actions-related-to-bucket-subresources"&gt;Permissions Related to Bucket Subresource Operations&lt;/a&gt; and &lt;a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/s3-access-control.html"&gt;Managing Access Permissions to Your Amazon S3 Resources&lt;/a&gt;.&lt;/p&gt; &lt;p class="title"&gt; &lt;b&gt;Special Errors&lt;/b&gt; &lt;/p&gt; &lt;ul&gt; &lt;li&gt; &lt;ul&gt; &lt;li&gt; &lt;p&gt; &lt;i&gt;HTTP Error: HTTP 400 Bad Request&lt;/i&gt; &lt;/p&gt; &lt;/li&gt; &lt;li&gt; &lt;p&gt; &lt;i&gt;Code: InvalidArgument&lt;/i&gt; &lt;/p&gt; &lt;/li&gt; &lt;li&gt; &lt;p&gt; &lt;i&gt;Cause: Invalid argument.&lt;/i&gt; &lt;/p&gt; &lt;/li&gt; &lt;/ul&gt; &lt;/li&gt; &lt;li&gt; &lt;ul&gt; &lt;li&gt; &lt;p&gt; &lt;i&gt;HTTP Error: HTTP 400 Bad Request&lt;/i&gt; &lt;/p&gt; &lt;/li&gt; &lt;li&gt; &lt;p&gt; &lt;i&gt;Code: TooManyConfigurations&lt;/i&gt; &lt;/p&gt; &lt;/li&gt; &lt;li&gt; &lt;p&gt; &lt;i&gt;Cause: You are attempting to create a new configuration but have already reached the 1,000-configuration limit.&lt;/i&gt; &lt;/p&gt; &lt;/li&gt; &lt;/ul&gt; &lt;/li&gt; &lt;li&gt; &lt;ul&gt; &lt;li&gt; &lt;p&gt; &lt;i&gt;HTTP Error: HTTP 403 Forbidden&lt;/i&gt; &lt;/p&gt; &lt;/li&gt; &lt;li&gt; &lt;p&gt; &lt;i&gt;Code: AccessDenied&lt;/i&gt; &lt;/p&gt; &lt;/li&gt; &lt;li&gt; &lt;p&gt; &lt;i&gt;Cause: You are not the owner of the specified bucket, or you do not have the s3:PutAnalyticsConfiguration bucket permission to set the configuration on the bucket.&lt;/i&gt; &lt;/p&gt; &lt;/li&gt; &lt;/ul&gt; &lt;/li&gt; &lt;/ul&gt; &lt;p class="title"&gt; &lt;b&gt;Related Resources&lt;/b&gt; &lt;/p&gt; &lt;ul&gt; &lt;li&gt; &lt;p&gt; &lt;a href="https://docs.aws.amazon.com/AmazonS3/latest/API/API_GetBucketAnalyticsConfiguration.html"&gt;GetBucketAnalyticsConfiguration&lt;/a&gt; &lt;/p&gt; &lt;/li&gt; &lt;li&gt; &lt;p&gt; &lt;a href="https://docs.aws.amazon.com/AmazonS3/latest/API/API_DeleteBucketAnalyticsConfiguration.html"&gt;DeleteBucketAnalyticsConfiguration&lt;/a&gt; &lt;/p&gt; &lt;/li&gt; &lt;li&gt; &lt;p&gt; &lt;a href="https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListBucketAnalyticsConfigurations.html"&gt;ListBucketAnalyticsConfigurations&lt;/a&gt; &lt;/p&gt; &lt;/li&gt; &lt;/ul&gt; |
