---
title: bucket_inventory_configurations
hide_title: false
hide_table_of_contents: false
keywords:
  - bucket_inventory_configurations
  - s3
  - aws    
  - stackql
  - infrastructure-as-code
  - configuration-as-data
  - cloud inventory
description: Query, deploy and manage AWS resources using SQL
custom_edit_url: null
image: https://storage.googleapis.com/stackql-web-assets/blog/stackql-blog-post-featured-image.png
---
  
    

## Overview
<table><tbody>
<tr><td><b>Name</b></td><td><code>bucket_inventory_configurations</code></td></tr>
<tr><td><b>Type</b></td><td>Resource</td></tr>
<tr><td><b>Id</b></td><td><code>aws.s3.bucket_inventory_configurations</code></td></tr>
</tbody></table>

## Fields
`SELECT` not supported for this resource, use `SHOW METHODS` to view available operations for the resource and then invoke a supported method using the `EXEC` command  
## Methods
| Name | Accessible by | Required Params | Description |
|:-----|:--------------|:----------------|:------------|
| `bucket_inventory_configurations_Get` | `SELECT` | `id, inventory` | &lt;p&gt;Returns an inventory configuration (identified by the inventory configuration ID) from the bucket.&lt;/p&gt; &lt;p&gt;To use this operation, you must have permissions to perform the &lt;code&gt;s3:GetInventoryConfiguration&lt;/code&gt; action. The bucket owner has this permission by default and can grant this permission to others. For more information about permissions, see &lt;a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/using-with-s3-actions.html#using-with-s3-actions-related-to-bucket-subresources"&gt;Permissions Related to Bucket Subresource Operations&lt;/a&gt; and &lt;a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/s3-access-control.html"&gt;Managing Access Permissions to Your Amazon S3 Resources&lt;/a&gt;.&lt;/p&gt; &lt;p&gt;For information about the Amazon S3 inventory feature, see &lt;a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/storage-inventory.html"&gt;Amazon S3 Inventory&lt;/a&gt;.&lt;/p&gt; &lt;p&gt;The following operations are related to &lt;code&gt;GetBucketInventoryConfiguration&lt;/code&gt;:&lt;/p&gt; &lt;ul&gt; &lt;li&gt; &lt;p&gt; &lt;a href="https://docs.aws.amazon.com/AmazonS3/latest/API/API_DeleteBucketInventoryConfiguration.html"&gt;DeleteBucketInventoryConfiguration&lt;/a&gt; &lt;/p&gt; &lt;/li&gt; &lt;li&gt; &lt;p&gt; &lt;a href="https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListBucketInventoryConfigurations.html"&gt;ListBucketInventoryConfigurations&lt;/a&gt; &lt;/p&gt; &lt;/li&gt; &lt;li&gt; &lt;p&gt; &lt;a href="https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutBucketInventoryConfiguration.html"&gt;PutBucketInventoryConfiguration&lt;/a&gt; &lt;/p&gt; &lt;/li&gt; &lt;/ul&gt; |
| `bucket_inventory_configurations_List` | `SELECT` | `inventory` | &lt;p&gt;Returns a list of inventory configurations for the bucket. You can have up to 1,000 analytics configurations per bucket.&lt;/p&gt; &lt;p&gt;This action supports list pagination and does not return more than 100 configurations at a time. Always check the &lt;code&gt;IsTruncated&lt;/code&gt; element in the response. If there are no more configurations to list, &lt;code&gt;IsTruncated&lt;/code&gt; is set to false. If there are more configurations to list, &lt;code&gt;IsTruncated&lt;/code&gt; is set to true, and there is a value in &lt;code&gt;NextContinuationToken&lt;/code&gt;. You use the &lt;code&gt;NextContinuationToken&lt;/code&gt; value to continue the pagination of the list by passing the value in continuation-token in the request to &lt;code&gt;GET&lt;/code&gt; the next page.&lt;/p&gt; &lt;p&gt; To use this operation, you must have permissions to perform the &lt;code&gt;s3:GetInventoryConfiguration&lt;/code&gt; action. The bucket owner has this permission by default. The bucket owner can grant this permission to others. For more information about permissions, see &lt;a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/using-with-s3-actions.html#using-with-s3-actions-related-to-bucket-subresources"&gt;Permissions Related to Bucket Subresource Operations&lt;/a&gt; and &lt;a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/s3-access-control.html"&gt;Managing Access Permissions to Your Amazon S3 Resources&lt;/a&gt;.&lt;/p&gt; &lt;p&gt;For information about the Amazon S3 inventory feature, see &lt;a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/storage-inventory.html"&gt;Amazon S3 Inventory&lt;/a&gt; &lt;/p&gt; &lt;p&gt;The following operations are related to &lt;code&gt;ListBucketInventoryConfigurations&lt;/code&gt;:&lt;/p&gt; &lt;ul&gt; &lt;li&gt; &lt;p&gt; &lt;a href="https://docs.aws.amazon.com/AmazonS3/latest/API/API_GetBucketInventoryConfiguration.html"&gt;GetBucketInventoryConfiguration&lt;/a&gt; &lt;/p&gt; &lt;/li&gt; &lt;li&gt; &lt;p&gt; &lt;a href="https://docs.aws.amazon.com/AmazonS3/latest/API/API_DeleteBucketInventoryConfiguration.html"&gt;DeleteBucketInventoryConfiguration&lt;/a&gt; &lt;/p&gt; &lt;/li&gt; &lt;li&gt; &lt;p&gt; &lt;a href="https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutBucketInventoryConfiguration.html"&gt;PutBucketInventoryConfiguration&lt;/a&gt; &lt;/p&gt; &lt;/li&gt; &lt;/ul&gt; |
| `bucket_inventory_configurations_Delete` | `DELETE` | `id, inventory` | &lt;p&gt;Deletes an inventory configuration (identified by the inventory ID) from the bucket.&lt;/p&gt; &lt;p&gt;To use this operation, you must have permissions to perform the &lt;code&gt;s3:PutInventoryConfiguration&lt;/code&gt; action. The bucket owner has this permission by default. The bucket owner can grant this permission to others. For more information about permissions, see &lt;a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/using-with-s3-actions.html#using-with-s3-actions-related-to-bucket-subresources"&gt;Permissions Related to Bucket Subresource Operations&lt;/a&gt; and &lt;a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/s3-access-control.html"&gt;Managing Access Permissions to Your Amazon S3 Resources&lt;/a&gt;.&lt;/p&gt; &lt;p&gt;For information about the Amazon S3 inventory feature, see &lt;a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/storage-inventory.html"&gt;Amazon S3 Inventory&lt;/a&gt;.&lt;/p&gt; &lt;p&gt;Operations related to &lt;code&gt;DeleteBucketInventoryConfiguration&lt;/code&gt; include: &lt;/p&gt; &lt;ul&gt; &lt;li&gt; &lt;p&gt; &lt;a href="https://docs.aws.amazon.com/AmazonS3/latest/API/API_GetBucketInventoryConfiguration.html"&gt;GetBucketInventoryConfiguration&lt;/a&gt; &lt;/p&gt; &lt;/li&gt; &lt;li&gt; &lt;p&gt; &lt;a href="https://docs.aws.amazon.com/AmazonS3/latest/API/API_PutBucketInventoryConfiguration.html"&gt;PutBucketInventoryConfiguration&lt;/a&gt; &lt;/p&gt; &lt;/li&gt; &lt;li&gt; &lt;p&gt; &lt;a href="https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListBucketInventoryConfigurations.html"&gt;ListBucketInventoryConfigurations&lt;/a&gt; &lt;/p&gt; &lt;/li&gt; &lt;/ul&gt; |
| `bucket_inventory_configurations_Put` | `EXEC` | `id, inventory` | &lt;p&gt;This implementation of the &lt;code&gt;PUT&lt;/code&gt; action adds an inventory configuration (identified by the inventory ID) to the bucket. You can have up to 1,000 inventory configurations per bucket. &lt;/p&gt; &lt;p&gt;Amazon S3 inventory generates inventories of the objects in the bucket on a daily or weekly basis, and the results are published to a flat file. The bucket that is inventoried is called the &lt;i&gt;source&lt;/i&gt; bucket, and the bucket where the inventory flat file is stored is called the &lt;i&gt;destination&lt;/i&gt; bucket. The &lt;i&gt;destination&lt;/i&gt; bucket must be in the same Amazon Web Services Region as the &lt;i&gt;source&lt;/i&gt; bucket. &lt;/p&gt; &lt;p&gt;When you configure an inventory for a &lt;i&gt;source&lt;/i&gt; bucket, you specify the &lt;i&gt;destination&lt;/i&gt; bucket where you want the inventory to be stored, and whether to generate the inventory daily or weekly. You can also configure what object metadata to include and whether to inventory all object versions or only current versions. For more information, see &lt;a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/storage-inventory.html"&gt;Amazon S3 Inventory&lt;/a&gt; in the Amazon S3 User Guide.&lt;/p&gt; &lt;important&gt; &lt;p&gt;You must create a bucket policy on the &lt;i&gt;destination&lt;/i&gt; bucket to grant permissions to Amazon S3 to write objects to the bucket in the defined location. For an example policy, see &lt;a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/example-bucket-policies.html#example-bucket-policies-use-case-9"&gt; Granting Permissions for Amazon S3 Inventory and Storage Class Analysis&lt;/a&gt;.&lt;/p&gt; &lt;/important&gt; &lt;p&gt;To use this operation, you must have permissions to perform the &lt;code&gt;s3:PutInventoryConfiguration&lt;/code&gt; action. The bucket owner has this permission by default and can grant this permission to others. For more information about permissions, see &lt;a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/using-with-s3-actions.html#using-with-s3-actions-related-to-bucket-subresources"&gt;Permissions Related to Bucket Subresource Operations&lt;/a&gt; and &lt;a href="https://docs.aws.amazon.com/AmazonS3/latest/userguide/s3-access-control.html"&gt;Managing Access Permissions to Your Amazon S3 Resources&lt;/a&gt; in the Amazon S3 User Guide.&lt;/p&gt; &lt;p class="title"&gt; &lt;b&gt;Special Errors&lt;/b&gt; &lt;/p&gt; &lt;ul&gt; &lt;li&gt; &lt;p class="title"&gt; &lt;b&gt;HTTP 400 Bad Request Error&lt;/b&gt; &lt;/p&gt; &lt;ul&gt; &lt;li&gt; &lt;p&gt; &lt;i&gt;Code:&lt;/i&gt; InvalidArgument&lt;/p&gt; &lt;/li&gt; &lt;li&gt; &lt;p&gt; &lt;i&gt;Cause:&lt;/i&gt; Invalid Argument&lt;/p&gt; &lt;/li&gt; &lt;/ul&gt; &lt;/li&gt; &lt;li&gt; &lt;p class="title"&gt; &lt;b&gt;HTTP 400 Bad Request Error&lt;/b&gt; &lt;/p&gt; &lt;ul&gt; &lt;li&gt; &lt;p&gt; &lt;i&gt;Code:&lt;/i&gt; TooManyConfigurations&lt;/p&gt; &lt;/li&gt; &lt;li&gt; &lt;p&gt; &lt;i&gt;Cause:&lt;/i&gt; You are attempting to create a new configuration but have already reached the 1,000-configuration limit. &lt;/p&gt; &lt;/li&gt; &lt;/ul&gt; &lt;/li&gt; &lt;li&gt; &lt;p class="title"&gt; &lt;b&gt;HTTP 403 Forbidden Error&lt;/b&gt; &lt;/p&gt; &lt;ul&gt; &lt;li&gt; &lt;p&gt; &lt;i&gt;Code:&lt;/i&gt; AccessDenied&lt;/p&gt; &lt;/li&gt; &lt;li&gt; &lt;p&gt; &lt;i&gt;Cause:&lt;/i&gt; You are not the owner of the specified bucket, or you do not have the &lt;code&gt;s3:PutInventoryConfiguration&lt;/code&gt; bucket permission to set the configuration on the bucket. &lt;/p&gt; &lt;/li&gt; &lt;/ul&gt; &lt;/li&gt; &lt;/ul&gt; &lt;p class="title"&gt; &lt;b&gt;Related Resources&lt;/b&gt; &lt;/p&gt; &lt;ul&gt; &lt;li&gt; &lt;p&gt; &lt;a href="https://docs.aws.amazon.com/AmazonS3/latest/API/API_GetBucketInventoryConfiguration.html"&gt;GetBucketInventoryConfiguration&lt;/a&gt; &lt;/p&gt; &lt;/li&gt; &lt;li&gt; &lt;p&gt; &lt;a href="https://docs.aws.amazon.com/AmazonS3/latest/API/API_DeleteBucketInventoryConfiguration.html"&gt;DeleteBucketInventoryConfiguration&lt;/a&gt; &lt;/p&gt; &lt;/li&gt; &lt;li&gt; &lt;p&gt; &lt;a href="https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListBucketInventoryConfigurations.html"&gt;ListBucketInventoryConfigurations&lt;/a&gt; &lt;/p&gt; &lt;/li&gt; &lt;/ul&gt; |
